# GeoJSON 기반 지역 검색 정확도 개선

## 개요

사용자의 현재 위치를 기준으로 정확한 거리 기반 공고 추천을 구현하고, 개선 전후 주요 지표를 모니터링하여 추천 품질을 향상시킨 프로젝트입니다.

## 문제상황

기존에는 검색 서비스에서 GeoJSON 기반 공간 쿼리를 지원하지 않아, MongoDB에서 행정구역코드 `regionId` 기반으로 공고를 필터링한 뒤, 좌표 기반 600m 반경 내 포함 여부를 별도로 판단하는 구조였습니다. 그러나 행정구역 단위인 `regionId`와 실제 거리 반경은 일치하지 않아, 위치상 가까운 게시글이 누락되는 문제가 있었습니다. 그 결과, 항상 실제 반경 내 게시글 수보다 적은 수의 결과만 노출되었습니다.

## 개선목표

- 사용자 좌표 기준 반경 내 공고를 정확히 필터링하여 추천 품질 향상
- 잘못된 필터링 로직으로 누락되던 공고 포함
- 개선 전후 클릭률/지원률 등 사용자 반응 지표 정량적 측정

## 해결전략

- GeoJSON 기반 공간 쿼리가 지원되도록 개선된 검색 서비스 구조 활용
- `circle-to-polygon` 라이브러리를 통해 중심 좌표와 반경(600m)을 기반으로 GeoJSON Polygon 객체 생성
- 해당 Polygon을 쿼리에 삽입하여 검색 서비스 레이어에서 공간 필터링 수행
- 개선 후 클릭률(CTR), 지원률(CVR), 노출 수 등의 지표를 BigQuery에 집계하고 Superset을 활용해 시각화 및 실시간 모니터링

## 성과

- 클릭률(CTR): +19%
- 지원률(CVR): +65%
- 노출 수: +7%
- Superset 기반 대시보드를 구축하여 정기적인 지표 모니터링 수행

## 사용기술 및 도구

- 검색 플랫폼 (GeoJSON 공간 쿼리 지원)
- Node.js, circle-to-polygon
- BigQuery, Superset

## 개인 기여

- circle-to-polygon 라이브러리 도입
- GeoJSON 기반 공간 쿼리 도입 및 검증 로직 구현
- BigQuery 기반 지표 집계 및 Superset 대시보드 시각화 구성
- 실험 설계 및 정량적 성과 측정

## 회고

거리 기반 추천의 정확도를 높이기 위해 단순 좌표 필터링을 넘어 공간 지오메트리 단위로 설계하는 경험을 할 수 있었습니다. 특히 사용자 반응 지표를 기반으로 개선 효과를 수치로 검증하며, 실험 중심의 기능 개발 역량을 키울 수 있었습니다. 앞으로도 기술적 구현뿐 아니라 측정 가능한 성과 중심의 개발을 지향하고자 합니다.
